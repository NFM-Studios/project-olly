worker_processes 1;

events { worker_connections 1024; }

http {
    sendfile on;
    include /etc/nginx/mime.types;

    upstream duel {server unix:/sock/duel.sock fail_timeout=0;}
    upstream binge {server unix:/sock/binge.sock fail_timeout=0;}
    upstream cashout {server unix:/sock/cashout.sock fail_timeout=0;}
    upstream online {server unix:/sock/online.sock fail_timeout=0;}
    upstream eot {server unix:/sock/eot.sock fail_timeout=0;}
    upstream roc {server unix:/sock/roc.sock fail_timeout=0;}
    upstream wlg {server unix:/sock/wlg.sock fail_timeout=0;}

server {
    # if no Host match, close the connection to prevent host spoofing
    listen 80 default_server;
    return 444;
  }

  server {
    listen 80;
    client_max_body_size 4G;
    server_name duel.nfmstudios.com duelbattleroyale.com;
    keepalive_timeout 5;
    root /static;

    location /static {
      alias /static;
    }

    location / {
      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
      proxy_set_header X-Forwarded-Proto $scheme;
      proxy_set_header Host $http_host;
      proxy_redirect off;
      proxy_pass http://duel;
    }
  }

server {
    listen 80;
    client_max_body_size 4G;
    server_name binge.nfmstudios.com bingeplay.com www.bingeplay.com;
    keepalive_timeout 5;
    root /static;

    location /static {
      alias /static;
    }

    location / {
      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
      proxy_set_header X-Forwarded-Proto $scheme;
      proxy_set_header Host $http_host;
      proxy_redirect off;
      proxy_pass http://binge;
    }
  }

 server {
    listen 80;
    client_max_body_size 4G;
    server_name cashout.nfmstudios.com cashoutgaming.net www.cashoutgaming.net;
    keepalive_timeout 5;
    root /static;

    location /static {
      alias /static;
    }

    location / {
      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
      proxy_set_header X-Forwarded-Proto $scheme;
      proxy_set_header Host $http_host;
      proxy_redirect off;
      proxy_pass http://cashout;
    }
  }


  server {
    listen 80;
    client_max_body_size 4G;
    server_name online.nfmstudios.com playot.se www.playot.se;
    keepalive_timeout 5;
    root /static;

    location /static {
      alias /static;
    }

    location / {
      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
      proxy_set_header X-Forwarded-Proto $scheme;
      proxy_set_header Host $http_host;
      proxy_redirect off;
      proxy_pass http://online;
    }
  }

  server {
    listen 80;
    client_max_body_size 4G;
    server_name eot.nfmstudios.com;
    keepalive_timeout 5;
    root /static;

    location /static {
      alias /static;
    }

    location / {
      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
      proxy_set_header X-Forwarded-Proto $scheme;
      proxy_set_header Host $http_host;
      proxy_redirect off;
      proxy_pass http://eot;
    }
  }

  server {
    listen 80;
    client_max_body_size 4G;
    server_name roc.nfmstudios.com;
    keepalive_timeout 5;
    root /static;

    location /static {
      alias /static;
    }

    #location ~ \.css {
    #    add_header  Content-Type    text/css;
    #}

    #location ~ \.js {
    #    add_header  Content-Type    application/x-javascript;
    #}

    location / {
      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
      proxy_set_header X-Forwarded-Proto $scheme;
      proxy_set_header Host $http_host;
      proxy_redirect off;
      proxy_pass http://roc;
    }
  }

  server {
    listen 80;
    client_max_body_size 4G;
    server_name wlg.nfmstudios.com;
    keepalive_timeout 5;
    root /static;

    location /static {
      alias /static;
    }

    location / {
      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
      proxy_set_header X-Forwarded-Proto $scheme;
      proxy_set_header Host $http_host;
      proxy_redirect off;
      proxy_pass http://wlg;
    }
  }

}
