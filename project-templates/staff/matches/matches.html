{% extends 'staff/staffbase.html' %}
{% load static %}
<link rel="stylesheet" href="{% static "css/staff.css" %}">

{% block title %}
    Matches List
{% endblock %}

{% block body %}
    <div style="overflow-x:auto;">
        <h1>Tournament Matches</h1>
        <table class="table table-hover">
            <tr id="header">
                <thead>
                <th scope="row">ID</th>
                <th>Platform</th>
                <th>Game</th>
                <th>Away Team</th>
                <th>Home Team</th>
                <th>Completed</th>
                <th>Size</th>
                <th>Byes</th>
                </thead>
            </tr>
            {% for match in tmatches %}
                <tbody>
                <tr scope="">
                    <td scope="row"><a href="{% url 'staff:match_detail' pk=match.id %}">#{{ match.id }}</a></td>

                    <td><a href="{% url 'staff:platform_detail' pk=match.platform.id %}">{{ match.platform.name }}</a>
                    </td>

                    <td><a href="{% url 'staff:game_detail' pk=match.game.id %}">{{ match.game.name }}</a></td>

                    <td><a href="{% url 'staff:team_detail' pk=match.awayteam.id %}">{{ match.awayteam.name }}</a></td>

                    <td><a href="{% url 'staff:team_detail' pk=match.hometeam.id %}">{{ match.hometeam.name }}</a></td>

                    {% if match.completed %}
                        <td>Yes</td>
                    {% elif not match.completed %}
                        <td>No</td>
                    {% endif %}

                    <td>Something</td>

                    {% if not match.bye_1 and not match.bye_2 %}
                        <td>No</td>
                    {% else %}
                        <td>Yes</td>
                    {% endif %}

                    {% if not match.completed %}
                        <td><a href="{% url 'staff:match_declare_winner' pk=match.id %}" class="btn btn-primary">Declare
                            Winner</a></td>
                    {% else %}
                        <td><a href="{% url 'staff:match_delete_winner' pk=match.id %}" class="btn btn-danger">Delete
                            Winner</a></td>
                    {% endif %}
                </tr>
                </tbody>
            {% endfor %}
        </table>
        <h2>Wager Matches</h2>
        <table class="table table-hover">
            <tr id="header">
                <thead>
                <th scope="row">ID</th>
                <th>Platform</th>
                <th>Game</th>
                <th>Away Team</th>
                <th>Home Team</th>
                <th>Completed</th>
                <th>Size</th>
                <th>Byes</th>
                </thead>
            </tr>
            {% for match in wmatches %}
                <tbody>
                <tr scope="">
                    <td scope="row"><a href="{% url 'staff:match_detail' pk=match.id %}">#{{ match.id }}</a></td>

                    <td><a href="{% url 'staff:platform_detail' pk=match.platform.id %}">{{ match.platform.name }}</a>
                    </td>

                    <td><a href="{% url 'staff:game_detail' pk=match.game.id %}">{{ match.game.name }}</a></td>

                    <td><a href="{% url 'staff:team_detail' pk=match.awayteam.id %}">{{ match.awayteam.name }}</a></td>

                    <td><a href="{% url 'staff:team_detail' pk=match.hometeam.id %}">{{ match.hometeam.name }}</a></td>

                    {% if match.completed %}
                        <td>Yes</td>
                    {% elif not match.completed %}
                        <td>No</td>
                    {% endif %}

                    <td>Something</td>

                    {% if not match.bye_1 and not match.bye_2 %}
                        <td>No</td>
                    {% else %}
                        <td>Yes</td>
                    {% endif %}

                    {% if not match.completed %}
                        <td><a href="{% url 'staff:match_declare_winner' pk=match.id %}" class="btn btn-primary">Declare
                            Winner</a></td>
                    {% else %}
                        <td><a href="{% url 'staff:match_delete_winner' pk=match.id %}" class="btn btn-danger">Delete
                            Winner</a></td>
                    {% endif %}
                </tr>
                </tbody>
            {% endfor %}
        </table>

    <h2>League Matches</h2>
        <table class="table table-hover">
            <tr id="header">
                <thead>
                <th scope="row">ID</th>
                <th>Platform</th>
                <th>Game</th>
                <th>Away Team</th>
                <th>Home Team</th>
                <th>Completed</th>
                <th>Size</th>
                <th>Byes</th>
                </thead>
            </tr>
            {% for match in lmatches %}
                <tbody>
                <tr scope="">
                    <td scope="row"><a href="{% url 'staff:match_detail' pk=match.id %}">#{{ match.id }}</a></td>

                    <td><a href="{% url 'staff:platform_detail' pk=match.platform.id %}">{{ match.platform.name }}</a>
                    </td>

                    <td><a href="{% url 'staff:game_detail' pk=match.game.id %}">{{ match.game.name }}</a></td>

                    <td><a href="{% url 'staff:team_detail' pk=match.awayteam.id %}">{{ match.awayteam.name }}</a></td>

                    <td><a href="{% url 'staff:team_detail' pk=match.hometeam.id %}">{{ match.hometeam.name }}</a></td>

                    {% if match.completed %}
                        <td>Yes</td>
                    {% elif not match.completed %}
                        <td>No</td>
                    {% endif %}

                    <td>Something</td>

                    {% if not match.bye_1 and not match.bye_2 %}
                        <td>No</td>
                    {% else %}
                        <td>Yes</td>
                    {% endif %}

                    {% if not match.completed %}
                        <td><a href="{% url 'staff:match_declare_winner' pk=match.id %}" class="btn btn-primary">Declare
                            Winner</a></td>
                    {% else %}
                        <td><a href="{% url 'staff:match_delete_winner' pk=match.id %}" class="btn btn-danger">Delete
                            Winner</a></td>
                    {% endif %}
                </tr>
                </tbody>
            {% endfor %}
        </table>

    </div>
{% endblock %}